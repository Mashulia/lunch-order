<script lang="ts" setup>
const isCurrentPasswordVisible = ref(false);
const isNewPasswordVisible = ref(false);
const isConfirmPasswordVisible = ref(false);
const currentPassword = ref("12345678");
const newPassword = ref("87654321");
const confirmPassword = ref("87654321");

const passwordRequirements = [
  "–ú–∏–Ω–∏–º—É–º 8 –∑–Ω–∞–∫–æ–≤ - —á–µ–º –±–æ–ª—å—à–µ, —Ç–µ–º –ª—É—á—à–µ",
  "–•–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ",
  "–•–æ—Ç—è –±—ã –æ–¥–Ω–æ —á–∏—Å–ª–æ, —Å–∏–º–≤–æ–ª, –∏–ª–∏ –ø—Ä–æ–±–µ–ª",
];

const isUpdateUserSuccess = ref(false);
const isUpdateUserFailed = ref(false);

const saveProfile = () => {
  setTimeout(() => (isUpdateUserSuccess.value = true), 1000);

  setTimeout(() => (isUpdateUserSuccess.value = false), 2000);
};
</script>

<template>
  <VRow>
    <!-- SECTION: Change Password -->
    <VCol cols="12">
      <VCard title="–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å">
        <VForm>
          <VCardText>
            <!-- üëâ Current Password -->
            <VRow class="mb-3">
              <VCol cols="12" md="6">
                <!-- üëâ current password -->
                <VTextField
                  v-model="currentPassword"
                  :type="isCurrentPasswordVisible ? 'text' : 'password'"
                  :append-inner-icon="
                    isCurrentPasswordVisible
                      ? 'mdi-eye-off-outline'
                      : 'mdi-eye-outline'
                  "
                  label="–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å"
                  @click:append-inner="
                    isCurrentPasswordVisible = !isCurrentPasswordVisible
                  "
                />
              </VCol>
            </VRow>

            <!-- üëâ New Password -->
            <VRow>
              <VCol cols="12" md="6">
                <!-- üëâ new password -->
                <VTextField
                  v-model="newPassword"
                  :type="isNewPasswordVisible ? 'text' : 'password'"
                  :append-inner-icon="
                    isNewPasswordVisible
                      ? 'mdi-eye-off-outline'
                      : 'mdi-eye-outline'
                  "
                  label="–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å"
                  @click:append-inner="
                    isNewPasswordVisible = !isNewPasswordVisible
                  "
                />
              </VCol>

              <VCol cols="12" md="6">
                <!-- üëâ confirm password -->
                <VTextField
                  v-model="confirmPassword"
                  :type="isConfirmPasswordVisible ? 'text' : 'password'"
                  :append-inner-icon="
                    isConfirmPasswordVisible
                      ? 'mdi-eye-off-outline'
                      : 'mdi-eye-outline'
                  "
                  label="–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–∞—Ä–æ–ª—å"
                  @click:append-inner="
                    isConfirmPasswordVisible = !isConfirmPasswordVisible
                  "
                />
              </VCol>
            </VRow>
          </VCardText>

          <!-- üëâ Password Requirements -->
          <VCardText>
            <p class="text-base font-weight-medium mt-2">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:</p>

            <ul class="d-flex flex-column gap-y-3">
              <li
                v-for="item in passwordRequirements"
                :key="item"
                class="d-flex"
              >
                <div>
                  <VIcon size="7" icon="mdi-circle" class="me-3" />
                </div>
                <span class="font-weight-medium">{{ item }}</span>
              </li>
            </ul>
          </VCardText>

          <!-- üëâ Action Buttons -->
          <VCardText class="d-flex flex-wrap gap-4">
            <VBtn @click="saveProfile">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</VBtn>

            <VBtn type="reset" color="secondary" variant="tonal">
              –°–±—Ä–æ—Å–∏—Ç—å
            </VBtn>
          </VCardText>
        </VForm>
      </VCard>
    </VCol>
    <!-- !SECTION -->
  </VRow>
  <v-alert
    class="p-absolute left--1"
    v-if="isUpdateUserSuccess"
    color="success"
    icon="$success"
    closable
    text="–ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω"
  ></v-alert>
  <v-alert
    class="p-absolute left--1"
    v-if="isUpdateUserFailed"
    color="error"
    icon="$error"
    closable
    text="–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è"
  ></v-alert>
</template>
